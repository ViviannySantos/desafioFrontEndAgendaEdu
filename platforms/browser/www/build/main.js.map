{"version":3,"sources":["../../src/providers/movie/movie.ts","../../src/pages/popular-movie-list/popular-movie-list.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CacheService } from 'ionic-cache';\nimport { Http, RequestOptionsArgs, URLSearchParams } from '@angular/http';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\n\nimport { Movie } from '../../models/movie/movie.model';\n\n/*\n  Generated class for the MovieProvider provider.\n*/\n@Injectable()\nexport class MovieProvider {\n\n  private API_PATH = 'https://api.themoviedb.org/3/'\n  private POPULAR_MOVIE_PATH = 'movie/popular';\n  private API_KEY = '11dde4250de8e0b31aa9f81de4cce04a';\n  private LANGUAGE = 'pt-BR';\n\n  private MOVIE_KEY = 'favorite-movies'\n\n  private FIREBASE_PATH = '/favoriteMovies/';\n\n  constructor(public http: Http, public fireDb: AngularFireDatabase, private cache: CacheService) { }\n\n  private getURLSearchParams(): URLSearchParams {\n    const params: URLSearchParams = new URLSearchParams();\n    params.set('api_key', this.API_KEY);\n    params.set('language', this.LANGUAGE);\n    return params;\n  }\n\n  getMoviesByPage(page: string) {\n    const ttl = 5;\n    const params = this.getURLSearchParams();\n    params.set('page', page);\n    const reqOptions: RequestOptionsArgs = {\n      params: params\n    }\n\n    // return this.http.get(this.API_PATH + this.POPULAR_MOVIE_PATH, reqOptions)\n    //   .map(response => response.json().results as Movie[]);\n\n    const url = this.API_PATH + this.POPULAR_MOVIE_PATH + '?' + reqOptions.params;\n\n    const request = this.http.get(this.API_PATH + this.POPULAR_MOVIE_PATH, reqOptions)\n    const cache = this.cache.loadFromObservable(url, request, this.MOVIE_KEY, ttl).\n      map(response => response.json().results as Movie[]);\n\n    if (request != null) {\n      const req = request.map(response => response.json().results as Movie[]);\n      return this.cache.loadFromObservable(url, req, this.MOVIE_KEY, ttl);\n    } else {\n      return cache;\n    }\n\n  }\n\n  searchMovie(nameMovie: string, page: string): Observable<Movie[]> {\n    const params = this.getURLSearchParams();\n    params.set('query', nameMovie);\n    params.set('page', page);\n    const reqOptions: RequestOptionsArgs = {\n      params: params\n    }\n    return this.http.get(this.API_PATH + \"search/movie\", reqOptions)\n      .map(response => response.json().results as Movie[]);\n  }\n\n  getMovieDetails(movieId: string): Observable<Movie> {\n    const params = this.getURLSearchParams();\n    const reqOptions: RequestOptionsArgs = {\n      params: params\n    }\n    return this.http.get(this.API_PATH + `movie/${movieId}`, reqOptions)\n      .map(response => response.json() as Movie);\n  }\n\n  addFavorite(movie: Movie) {\n    return new Promise((resolve, reject) => {\n      this.fireDb.list(this.FIREBASE_PATH)\n        .push(movie)\n        .then(() => resolve());\n    })\n  }\n\n  getFavorites() {\n    const relative = this.fireDb.list(this.FIREBASE_PATH).valueChanges();\n    return relative;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/movie/movie.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content, ToastController } from 'ionic-angular';\nimport { CacheService } from 'ionic-cache';\nimport { Subject } from 'rxjs/Rx';\n\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/switchMap';\n\nimport { MovieProvider } from '../../providers/movie/movie';\nimport { Movie } from '../../models/movie/movie.model';\n\n/**\n * Generated class for the PopularMovieListPage page.\n *\n */\n@IonicPage()\n@Component({\n  selector: 'page-popular-movie-list',\n  templateUrl: 'popular-movie-list.html',\n})\nexport class PopularMovieListPage {\n\n  movies: Movie[] = [];\n\n  private page: number = 0;\n  endPages: boolean = false;\n\n  movieSearch$: Subject<string> = new Subject<string>();\n  private lastSearch: string;\n\n  private allFilterOption: boolean;\n\n  @ViewChild(Content) content: Content;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private toast: ToastController,\n    public movieProvider: MovieProvider, public toastCtrl: ToastController, public cacheService: CacheService) {\n    if (this.allFilterOption || this.allFilterOption == null) {\n      this.getMovies();\n    } else {\n      this.favoritesMovies();\n    }\n  }\n\n  private clean() {\n    this.page = 0;\n    this.movies = [];\n    this.endPages = false;\n    this.content.scrollToTop(200);\n  }\n\n  getMovies() {\n\n    let toast = this.toastCtrl.create({\n      message: 'Não foi possível realizar a operação devido a limitação da API. Por favor tente mais tarde.',\n      position: 'top', duration: 5000, showCloseButton: true\n    });\n\n    this.movieSearch$\n      .debounceTime(500)\n      .switchMap((search: string) => {\n        this.lastSearch = search;\n        this.page++;\n        if (search == null || search == '') {\n          return this.movieProvider.getMoviesByPage(this.page.toString());\n        } else {\n          return this.movieProvider.searchMovie(search, this.page.toString());\n        }\n      })\n      .catch(error => toast.present())\n      .subscribe((movies: Movie[]) => {\n        this.movies = this.movies.concat(movies);\n        if (movies.length === 0) {\n          this.endPages = true;\n        }\n      });\n\n    this.allFilterOption = true;\n    setTimeout(() => this.movieSearch$.next(\"\"), 400);\n  }\n\n  searchMovie(ev: any) {\n    const searchNameMovie = ev.target.value;\n    this.clean();\n    this.movieSearch$.next(searchNameMovie);\n  }\n\n  getMovieDetails(movieId: number) {\n    this.navCtrl.push('MovieDetailsPage', { movieId: movieId });\n  }\n\n  addFavorite(movie: Movie) {\n    this.movieProvider.addFavorite(movie)\n      .then(() => {\n        this.toast.create({ message: 'Filme adicionado a lista de favoritos.', duration: 3000, position: 'top' }).present();\n      })\n  }\n\n  favoritesMovies() {\n    this.clean();\n    this.allFilterOption = false;\n    return this.movieProvider.getFavorites()\n      .subscribe((movies: Movie[]) => {\n        this.movies = this.movies.concat(movies);\n      });\n  }\n\n  allMovies() {\n    this.clean();\n    this.getMovies();\n  }\n\n  ngOnDestroy(): void {\n    if (this.movieSearch$) {\n      this.movieSearch$.unsubscribe();\n    }\n  }\n\n  doInfinite(infiniteScroll) {\n    this.movieSearch$.next(this.lastSearch);\n    setTimeout(() => {\n      infiniteScroll.complete();\n    }, 500);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/popular-movie-list/popular-movie-list.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 204;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 204\n// module chunks = 3","var map = {\n\t\"../pages/movie-details/movie-details.module\": [\n\t\t734,\n\t\t0\n\t],\n\t\"../pages/popular-movie-list/popular-movie-list.module\": [\n\t\t736,\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 248;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 248\n// module chunks = 3","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { HttpModule } from '@angular/http';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { CacheModule } from 'ionic-cache';\n\nimport { MyApp } from './app.component';\nimport { PopularMovieListPage } from '../pages/popular-movie-list/popular-movie-list';\nimport { MovieProvider } from '../providers/movie/movie';\n\nexport const firebaseConfig = {\n    apiKey: \"AIzaSyCU9WR7PVL3xJBXje1zAXXi8a6Qed1kn5E\",\n    authDomain: \"desafiofrontendagendaedu.firebaseapp.com\",\n    databaseURL: \"https://desafiofrontendagendaedu.firebaseio.com\",\n    projectId: \"desafiofrontendagendaedu\",\n    storageBucket: \"desafiofrontendagendaedu.appspot.com\",\n    messagingSenderId: \"869985167023\"\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    PopularMovieListPage,\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    CacheModule.forRoot(),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    HttpModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    PopularMovieListPage,\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    MovieProvider\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { CacheService } from \"ionic-cache\";\n\nimport { PopularMovieListPage } from '../pages/popular-movie-list/popular-movie-list';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n\n  rootPage: any = PopularMovieListPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, cache: CacheService) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      cache.setDefaultTTL(60 * 60 * 12);\n      cache.setOfflineInvalidate(true);\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}